define(function(t,e,n){"use strict";function i(t){i.superclass.constructor.call(this),this.userConfig=t,this.init()}var o=t("./util"),r=t("./base"),c=(t("./animate"),t("./boundry")),s=t("./hammer"),u=t("./components/sticky"),d=t("./components/fixed"),f=500,h="ease",l=.1;return o.extend(i,r,{version:"3.0.13",init:function(){var t=this,e={preventDefault:!0,bounce:!0,boundryCheck:!0,useTransition:!0,gpuAcceleration:!0,BOUNDRY_CHECK_EASING:h,BOUNDRY_CHECK_DURATION:f,BOUNDRY_CHECK_ACCELERATION:l,useOriginScroll:!1,zoomType:"y",indicatorInsets:{top:3,bottom:3,left:3,right:3,width:3,spacing:5},container:".xs-container",content:".xs-content",stickyElements:".xs-sticky",fixedElements:".xs-fixed",touchAction:"auto"};t.guid=o.guid(),t.renderTo=o.getNode(t.userConfig.renderTo),t.__timers={};var n=JSON.parse(t.renderTo.getAttribute("xs-cfg")),i=t.userConfig=o.mix(o.mix(e,n),t.userConfig);return t.container=o.getNode(i.container,t.renderTo),t.content=o.getNode(i.content,t.renderTo),t.boundry=new c,t.boundry.refresh(),t},destroy:function(){var t=this;t.mc&&t.mc.destroy(),t.sticky&&t.sticky.destroy(),t.fixed&&t.fixed.destroy()},_initContainer:function(){},enableGPUAcceleration:function(){return this.userConfig.gpuAcceleration=!0,this},disableGPUAcceleration:function(){return this.userConfig.gpuAcceleration=!1,this},getScrollPos:function(){var t=this;return{scrollLeft:t.getScrollLeft(),scrollTop:t.getScrollTop()}},getScrollTop:function(){},getScrollLeft:function(){},scrollTo:function(t,e,n,i,o){var r=this,t=void 0===t||isNaN(t)?-r.getScrollLeft():t,e=void 0===e||isNaN(e)?-r.getScrollTop():e;r.scrollLeft(t,n,i,o),r.scrollTop(e,n,i,o)},scrollBy:function(t,e,n,i,o){this.scrollByX(t,n,i,o),this.scrollByY(e,n,i,o)},scrollLeftBy:function(t,e,n,i){this.scrollLeft(Number(t)+Number(this.getScrollLeft()),e,n,i)},scrollTopBy:function(t,e,n,i){this.scrollTop(Number(t)+Number(this.getScrollTop()),e,n,i)},scrollLeft:function(t,e,n,i){},scrollTop:function(t,e,n,i){},resetSize:function(){var t=this;if(t.container&&t.content){var e=t.userConfig,n=getComputedStyle(t.renderTo),i=(t.width=(e.width||t.renderTo.offsetWidth)-o.px2Num(n["padding-left"])-o.px2Num(n["padding-right"]),t.height=(e.height||t.renderTo.offsetHeight)-o.px2Num(n["padding-top"])-o.px2Num(n["padding-bottom"]),e.containerWidth||t.content.offsetWidth),r=e.containerHeight||t.content.offsetHeight;return t.containerWidth=i<t.width?t.width:i,t.containerHeight=r<t.height?t.height:r,t.boundry.refresh({width:t.width,height:t.height}),t}},render:function(){var t=this;return t.resetSize(),t.initSticky(),t.initFixed(),t.trigger("afterrender",{type:"afterrender"}),t._bindEvt(),t.initTouchAction(),t},initTouchAction:function(){var t=this;return t.mc.set({touchAction:t.userConfig.touchAction}),t},initFixed:function(){var t=this,e=t.userConfig;return t.fixed=t.fixed||new d({fixedElements:e.fixedElements,xscroll:t,fixedRenderTo:e.fixedRenderTo}),t.fixed.render(),t.resetSize(),t},initSticky:function(){var t=this,e=t.userConfig,n=t.sticky=t.sticky||new u({xscroll:t,zoomType:e.zoomType,stickyRenderTo:e.stickyRenderTo});n.render()},boundryCheck:function(){return this},boundryCheckX:function(){return this},boundryCheckY:function(){return this},_bindEvt:function(){var t=this;if(!t.___isEvtBind){t.___isEvtBind=!0;var e=t.mc=new s.Manager(t.renderTo),n=new s.Tap,i=new s.Pan;new s.Pinch;e.add([n,i]),t.mc.on("panstart pan panend pancancel pinchstart pinchmove pinchend pinchcancel pinchin pinchout",function(e){t.trigger(e.type,e)});for(var o=["touchstart","touchmove","touchend","touchcancel","mousedown"],r=0,c=o.length;r<c;r++)t.renderTo.addEventListener(o[r],function(e){t.trigger(e.type,e)});return t.mc.on("tap",function(e){1==e.tapCount?(e.type="tap",t.trigger(e.type,e)):2==e.tapCount&&(e.type="doubletap",t.trigger("doubletap",e))}),t}},_resetLockConfig:function(){},stop:function(){}}),"object"==typeof n&&n.exports?void(n.exports=i):i});